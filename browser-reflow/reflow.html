<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Reflow Demo</title>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />
    <style>
      .container {
        width: 80%;
        margin: 20px auto;
        padding: 20px;
        background: #f5f5f5;
      }

      .box {
        width: 100px;
        height: 50px;
        background: #ddd;
        margin: 5px;
        display: inline-block;
        transition: all 0.3s;
        text-align: center;
        line-height: 50px;
      }

      .metrics {
        position: fixed;
        top: 10px;
        right: 10px;
        background: #333;
        color: #fff;
        padding: 10px;
        font-family: monospace;
      }

      button {
        padding: 10px 20px;
        margin: 10px 0;
        background: #333;
        color: #fff;
        border: none;
        cursor: pointer;
      }

      @media (max-width: 600px) {
        .box {
          width: 30%;
        }
      }
    </style>
    <script src="reflow.js" async></script>
  </head>
  <body>
    <div class="metrics" id="metrics">Performance: 0ms</div>

    <div class="container">
      <h2>Bad Practice (Forces Reflow)</h2>
      <div id="badPractice">
        <!-- Generate 50 boxes -->
        <script>
          document.write(
            Array(50).fill('<div class="box">Box</div>').join(""),
          );
        </script>
      </div>
      <button onclick="runBadPractice()">Run Bad Practice</button>

      <h2>Good Practice (Batched Updates)</h2>
      <div id="goodPractice">
        <!-- Generate 50 boxes -->
        <script>
          document.write(
            Array(50).fill('<div class="box">Box</div>').join(""),
          );
        </script>
      </div>

      <button onclick="runGoodPractice()">Run Good Practice</button>
    </div>
  </body>
</html>
